# 2D Рейкастер на Qt C++

Из-за сложностей с многофайловой настройкой на моей системе, весь проект реализован в одном `main.cpp`. 
Файл структурирован на логические модули для лучшей читаемости.

Проект **полностью реализует все пункты** задания лабораторной работы №2 по 2D-рейкастеру, включая симуляцию освещения, теней и полутеней.

## Ключевые Возможности и Технические Решения:

*   **Продвинутая Обработка Коллизий:**
    *   Реализован механизм, предотвращающий попадание **всей группы источников света** (мастер + сателлиты) внутрь полигонов-препятствий. 
          При попытке перемещения в запрещенную зону, группа источников итеративно "выталкивается" на ближайшую валидную позицию.
    *   Создание полигона отменяется, если он при завершении будет содержать какой-либо из активных источников света (выводится уведомление).

*   **Интерактивное Удаление Полигонов:**
    *   В специальном подрежиме "Удаление" (в режиме "Draw Polygons") полигон под курсором подсвечивается красным. 
          Удаление происходит по клику ЛКМ на нем.
    *   Также, полигон под курсором можно удалить нажатием клавиши 'D' в любом режиме, если холст активен.

*   **Настраиваемые Параметры Динамического Света:**
    *   **Количество дополнительных источников света** и их **разброс** вокруг основного источника теперь управляются через соответствующие 
          элементы на панели GUI и напрямую влияют на симуляцию.

*   **Оптимизация Производительности:**
    *   **Кэширование Геометрии:** Точки, критичные для построения лучей (вершины, пересечения ребер), предварительно рассчитываются, фильтруются 
            и кэшируются. Кэш обновляется только при изменении полигонов на сцене, что значительно снижает нагрузку при перемещении света.
    *   **Многопоточный Рендеринг Света:** Расчет областей видимости для каждого из множества источников света (формирующих полутени) выполняется 
            **параллельно** с использованием `std::thread`, эффективно утилизируя многоядерные процессоры.

*   **Улучшенный Пользовательский Интерфейс:**
    *   **Панель управления** с настройками имеет анимацию сворачивания/разворачивания.
    *   Реализована система **текстовых подсказок**, адаптирующаяся под текущий режим работы, с переносами для длинных строк.

*   **Режим "Place Static Lights":** Реализация добавления, удаления и рендеринга света от стационарных источников.
*   **НЕточный Подсчет и Отображение FPS:** Измерение времени рендеринга и вывод актуального FPS.

//by Kotov Anton
